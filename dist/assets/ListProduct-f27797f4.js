import{S as f,N as g,F as b}from"./Footer-92859795.js";import{a as i}from"./axios-21b846bc.js";import{S as y}from"./sweetalert2.all-7c1ce996.js";import{P as h,D as k}from"./jquery.dataTables-c0423ad7.js";import{d as u,o as r,c,e as l,n as v,a as e,f as p,g as P,h as w,u as B,F as C,r as S,t as n}from"./index-128ba08c.js";const A={id:"wrapper"},x={id:"content-wrapper",class:"d-flex flex-column"},D={id:"content"},T={class:"container-fluid mt-4"},F=e("h1",{class:"h3 mb-0 text-gray-800 text-center"},"List Product",-1),N={class:"table-responsive"},L={key:0,class:"preloader"},z=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"No"),e("th",{scope:"col"},"Action"),e("th",{scope:"col"},"Product"),e("th",{scope:"col"},"Category"),e("th",{scope:"col"},"Brand"),e("th",{scope:"col"},"Seller"),e("th",{scope:"col"},"Price"),e("th",{scope:"col"},"Stock"),e("th",{scope:"col"},"Desc")])],-1),V={scope:"row"},q=["onClick"];h.use(k);const H={data(){return{dataProduct:[],user_id:"",ready:!1,remainingTime:"Loading"}},methods:{async fetchDataProduct(){try{const t=await i.get("http://127.0.0.1:8000/api/harga/semua",{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});this.dataProduct=t.data.data,this.ready=!0}catch(t){console.error(t)}},confirmationAdding(t){y.fire({title:"Konfirmasi Penambahan",text:`Apakah Anda yakin ingin menambahkan product ${t.product_name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#1cc88a",cancelButtonColor:"red",confirmButtonText:"Tambahkan",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&this.addingProduct(t)})},addingProduct(t){this.readyHotel=!1;const a=new FormData;a.append("product_name",t.product_name),a.append("category",t.category),a.append("brand",t.brand),a.append("type",t.type),a.append("seller_name",t.seller_name),a.append("price",t.price),a.append("buyer_sku_code",t.buyer_sku_code),a.append("seller_product_status",t.seller_product_status),a.append("unlimited_stock",t.unlimited_stock),a.append("stock",t.stock),a.append("multi",t.multi),a.append("start_cut_off",t.start_cut_off),a.append("end_cut_off",t.end_cut_off),a.append("desc",t.desc),i.post("http://127.0.0.1:8000/api/product/add-product",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(o=>{console.log(o.data),this.showAlert("Request Success","Product berhasil ditambahkan","success")}).catch(o=>{this.showAlert("Request Failed","Product gagal ditambahkan","error"),console.error(o),this.ready=!0})},showAlert(t,a,o){this.$swal({title:t,text:a,icon:o}).then(()=>{$("#updateHotel").modal("hide")})}},created(){this.fetchDataProduct()}},J=Object.assign(H,{__name:"ListProduct",setup(t){const a=u(!1),o=u(""),_=()=>{a.value=!a.value,o.value=a.value?"toggle-sidebar":""};return(d,I)=>(r(),c("div",A,[l(f,{class:v(o.value)},null,8,["class"]),e("div",x,[e("div",D,[l(g,{onToggleSidebar:_}),e("div",T,[F,e("div",N,[d.ready?p("",!0):(r(),c("div",L)),d.ready?(r(),P(B(h),{key:1,class:"display table table-striped"},{default:w(()=>[z,e("tbody",null,[(r(!0),c(C,null,S(d.dataProduct,(s,m)=>(r(),c("tr",{key:s.id},[e("th",V,n(m+1),1),e("td",null,[e("button",{class:"btn btn-success",onClick:R=>d.confirmationAdding(s)}," Add ",8,q)]),e("td",null,n(s.product_name),1),e("td",null,n(s.category),1),e("td",null,n(s.brand),1),e("td",null,n(s.seller_name),1),e("td",null,n(s.price),1),e("td",null,n(s.stock),1),e("td",null,n(s.desc),1)]))),128))])]),_:1})):p("",!0)])])]),l(b)])]))}});export{J as default};
